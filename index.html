<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="robots" content="noindex">

    <link rel="icon" type="image/png" href="images/favicon.png" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Work+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">

    <!-- Google Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="css/all.min.css" rel="stylesheet"> <!--load all styles -->
    <!-- <script src="https://kit.fontawesome.com/ac8c8047d4.js" crossorigin="anonymous"></script> -->

    <!-- Styles Sheets -->
    <link rel="stylesheet" href="css/variables.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/windows.css" />
    <link rel="stylesheet" href="css/canvas.css" />
    <link rel="stylesheet" href="css/toolbar.css" />
    <link rel="stylesheet" href="css/ruler.css" />
    <link rel="stylesheet" href="css/menu.css" />
    <link rel="stylesheet" href="css/world.css" />
    <!--<link rel="stylesheet" href="css/objects.css" />-->
    <link rel="stylesheet" href="css/properties.css" />
    <link rel="stylesheet" href="css/resources.css" />
    <link rel="stylesheet" href="css/form.css" />
    <link rel="stylesheet" href="css/scrollbar.css" />
    <link rel="stylesheet" href="css/tooltip.css" />
    <link rel="stylesheet" href="css/dnd.css" />
    <link rel="stylesheet" href="css/dropdown.css" />
    <link rel="stylesheet" href="css/overlay.css" />
    <link rel="stylesheet" href="css/code.css" />
    <link rel="stylesheet" href="css/icons.css" />
    <link rel="stylesheet" href="css/context-menu.css" />
    <link rel="stylesheet" href="css/settings.css" />
    <link rel="stylesheet" href="css/stats.css" />
    <link rel="stylesheet" href="css/save.css" />
    <link rel="stylesheet" href="css/loading.css" />
    <link rel="stylesheet" href="css/timeline.css" />
    
    <!-- Code Mirror -->    
    <!--<link rel="stylesheet" href="/src/lib/codemirror/lib/codemirror.css" />
    <link rel="stylesheet" href="/src/lib/codemirror/theme/brackets.css" />
    <script src="/src/lib/codemirror/lib/codemirror.js"></script>
    <script src="/src/lib/codemirror/mode/javascript/javascript.js"></script>
    <script src="/src/lib/codemirror/addon/selection/active-line.js"></script>
    <script src="/src/lib/codemirror/addon/edit/matchbrackets.js"></script>
    <script src="/src/lib/codemirror/addon/edit/closebrackets.js"></script>-->
    
    <!-- Core Engine -->
    <script async type="module" src="app.js"></script>

    <title>Pixel Creator · Editor</title>
</head>

<body>

    <!-- Collaboration -->
    <!--<canvas id="collab"></canvas>-->

    <!-- Menu principal -->
    <header id="header" class="loading">

        <!-- Navbar -->
        <!--<nav>
            <ul>
                <img id="logo" src="images/logo.png" alt="logo" width="45" height="45">
                <li title="Home"><i class="material-icons">home</i></li>
                <li title="Upload"><i class="material-icons tooltip">publish</i></li>
                <li title="Save"><i class="material-icons tooltip">save</i></li>
            </ul>
        </nav>-->

        <h1><i class="far fa-sword"></i>Test Project · Pixel Creator v0.1.42-beta
            <!-- - Project Name -->
        </h1>

        <!-- Menu -->
        <div id="menu">
            <ul>
                <li title="Play" id="play" class="button"><i class="material-icons">play_arrow</i></li>
                <li title="Pause" id="pause" class="button"><i class="material-icons">pause</i></li>
                <!-- <li title="Sync" id="sync" class="button"><span class="material-icons">sync</span></li> -->
                <!--
                  <li><i class="material-icons tooltip">create<span class="tooltiptext">Edit</span></i></li>
                  <li><i class="material-icons tooltip">open_with<span class="tooltiptext">Move</span></i></li>
                  <li><i class="material-icons tooltip">sync<span class="tooltiptext">Rotate</span></i></li>
                  <li><i class="material-icons tooltip">zoom_out_map<span class="tooltiptext">Resize</span></i></li>
                -->
            </ul>
        </div>

        <!-- Settings -->
        <nav>
            <ul>
                <li title="Settings"><i class="fas fa-cog"></i></li>
                <!-- <li title="Minimize"><i class="fal fa-window-minimize"></i></li> -->
                <li title="Fullscreen" id="fullscreen"><i class="far fa-expand"></i></li>
                <li title="Close" onclick="close()"><i class="far fa-times"></i></li>
                <!--<li><i class="material-icons tooltip">settings_input_hdmi<span class="tooltiptext">Online</span></i></li>-->
            </ul>
        </nav>

    </header>

    <!-- Main Content -->
    <main id="editor" class="loading">

        <aside id="left">

            <!-- Objects Window -->
            <!--<aside id="project">

                <div class="tab">
                    <h2><i class="fas fa-folder-open"></i>Project</h2>                    
                </div>

                <ul>
                    
                </ul>

            </aside>-->

            <!-- Toolbar -->
            <ul id="toolbar">
                
                <!-- <li id="wifi" title="Collaboration">
                    <i class="fas fa-wifi"></i>
                </li> -->

                <!--<hr />-->
                
                <!--<li id="selection" title="Selection" class="active tool"></li>
                <li id="rotate" title="Rotate" onclick="rotate(this)"><i class="fas fa-sync-alt"></i></li>
                <li id="scale" title="Scale" onclick="scale(this)"><i class="fas fa-expand-arrows-alt"></i></li>-->

                <!-- <li draggable="true" id="pointer" title="Pointer" class="tool">
                    <i class="far fa-mouse-pointer"></i>
                </li> -->

                <!-- <hr /> -->
                
                <li draggable="true" id="object" title="Object" class="tool">
                    <i class="far fa-cube"></i>
                </li>

                <li draggable="true" id="circle" title="Circle" class="tool">
                    <i class="far fa-circle"></i>
                </li>

                <li draggable="true" id="rectangle" title="Rectangle" class="tool">
                    <i class="far fa-square"></i>
                </li>

                <!-- <li draggable="true" id="line" title="Line" class="tool">
                    <i style="transform: rotate(-45deg);" class="far fa-horizontal-rule"></i>
                </li> -->

                <li draggable="true" id="light" title="Light" class="tool">
                    <i class="fal fa-lightbulb"></i>
                </li>

                <!-- <li draggable="true" id="sound" title="Sound" class="tool">
                    <i class="far fa-volume"></i>
                </li> -->
                
                <!-- <li draggable="true" id="image" title="Image" class="tool">
                    <span class="material-icons">wallpaper</span>
                </li> -->

                <!-- <li draggable="true" id="video" title="Video" class="tool">
                    <i class="far fa-photo-video"></i>
                </li> -->

                <li draggable="true" id="camera" title="Camera" class="tool">
                    <i class="far fa-camera-movie"></i>
                </li>

                <!-- <li draggable="true" id="particle" title="Particle" class="tool">
                    <i class="material-icons">blur_on</i>
                </li> -->

                <li draggable="true" id="text" title="Text" class="tool">
                    <i class="far fa-text"></i>
                </li>

                <!-- <li draggable="true" id="button" title="Button" class="tool">
                    <i class="far fa-hand-point-up"></i>
                </li> -->

                <!-- <li draggable="true" id="sprite" title="Sprite" class="tool">
                    <i class="far fa-alien-monster"></i>
                </li> -->

                <!--<hr />

                <li title="Zoom in"><i class="fas fa-search-plus"></i></li>
                <li title="Zoom out"><i class="fas fa-search-minus"></i></li>-->

                <!--<hr />

                <li title="Undo"><i class="fas fa-undo"></i></li>
                <li title="Redo"><i class="fas fa-redo-alt"></i></li>-->
                
                <div class="bottom">

                    <!-- <li id="modules" title="Modules">
                        <i class="fas fa-puzzle-piece"></i>
                        <i class="fad fa-plug"></i>
                    </li> -->

                    <li id="save" title="Save">
                        <i class="fas fa-save"></i>
                    </li>

                    <!-- <li id="layers" title="Layers">
                        <i class="fas fa-layer-group"></i>
                    </li> -->
                </div>

            </ul>

        </aside>

        <!-- Center : Scene and Resources Windows -->
        <section id="center">

            <section id="scene">

                <div class="tab">
                    <h2 id="scene-btn" class="tab-link active"><i class="far fa-video"></i>Scene</h2>
                    <h2 id="blueprint-btn" class="tab-link"><!--<i class="far fa-chart-network"></i>--><i class="far fa-project-diagram"></i>Graph</h2>
                    <!-- <h2 id="code-btn" class="tab-link"><i class="far fa-code"></i>Scripting</h2> -->
                    <!-- <h2 class="tab-link" onclick="openTab(event, 'drawing')"><i class="fas fa-paint-brush"></i>Drawing</h2> -->
                    <ul class="end">                        
                        <li style="display: none;" id="rulerBtn" class="active" title="Ruler"><i class="fal fa-ruler-combined"></i></li>
                        &nbsp;
                        <li style="display: none;" id="gridBtn" class="active" title="Grid"><i class="fal fa-th"></i></li>
                        &nbsp;
                        <li id="statsBtn" title="Stats"><i class="fas fa-chart-bar"></i></li>
                    </ul>
                </div>

                <!-- Scene -->
                <div id="wrapper" class="tab-content">
                    <!-- <header></header> -->
                    <!-- <canvas id="canvas" moz-opaque></canvas> -->
                </div>

                <!-- Events Window -->
                <div id="overlay" class="overlay tab-content">

                    <!-- <header></header> -->

                    <section class="overlay-content">

                        <!-- Main Events Window -->
                        <section id="blueprint">

                            <!-- <div class="box">
                                <h3>Object Name</h3>
                                <p>Name</p>
                                <input type="text" id="eventName">
                            </div> -->

                            <svg id="svg">
                                <defs>
                                    <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
                                        <path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(255, 255, 255, 0.05)" stroke-width="1"/>
                                    </pattern>
                                    <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                                        <rect width="100" height="100" fill="url(#smallGrid)"/>
                                        <path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(255, 255, 255, 0.05)" stroke-width="1" stroke-dasharray="0" />
                                    </pattern>
                                </defs>
                                <rect width="100%" height="100%" fill="url(#grid)" />
                            </svg>

                        </section>
                        
                        <!-- Toolbox nodes -->
                        <aside id="toolbox">

                            <!-- <div class="tab">
                                <h2>Events</h2>
                            </div> -->
                            
                            <ul>
                                <li draggable="true" id="init" title="Start" class="box event">
                                    <i class="fas fa-flag-checkered"></i>
                                </li>
                                <li draggable="true" id="update" title="Update" class="box event">
                                    <i class="material-icons">low_priority</i>
                                </li>
                                <li draggable="true" id="mouse" title="Mouse" class="box event">
                                    <i class="fas fa-mouse"></i>
                                </li>
                                <li draggable="true" id="key" title="Keyboard" class="box event">
                                    <i class="material-icons">keyboard</i>
                                </li>
                                <li draggable="true" id="collision" title="Collision" class="box event">
                                    <i class="material-icons">vertical_align_center</i>
                                </li>                                
                                <li draggable="true" id="timer" title="Timer" class="box event">
                                    <i class="material-icons">timer</i>
                                </li>
                                <li draggable="true" id="if" title="Condition" class="box structure">
                                    <i class="far fa-equals"></i>
                                    <!-- <i class="far fa-code-branch"></i> -->
                                </li>
                                <li draggable="true" id="repeat" title="Repeat" class="box structure">
                                    <i class="far fa-repeat-alt"></i>
                                </li>
                                <!-- <li draggable="true" id="jump" title="Jump" class="box structure">
                                    <i class="far fa-redo"></i>
                                </li> -->
                                <li draggable="true" id="math" title="Math" class="box function">
                                    <i class="far fa-function"></i>
                                </li>
                                <li draggable="true" id="move" title="Move" class="box function">
                                    <i class="far fa-arrows"></i>
                                </li>
                                <li draggable="true" id="edit" title="Edit" class="box function">
                                    <i class="fas fa-pencil-alt"></i>
                                    <!-- <i class="material-icons">edit</i> -->
                                </li>
                                <li draggable="true" id="create" title="Create" class="box function">
                                    <i class="material-icons">lightbulb_outline</i>
                                </li>
                                <li draggable="true" id="delete" title="Delete" class="box function">
                                    <i class="material-icons">delete_forever</i>
                                </li>
                                <li draggable="true" id="draw" title="Draw" class="box function">
                                    <i class="fas fa-fill"></i>
                                    <!-- <i class="material-icons">wallpaper</i> -->
                                </li>
                                <li draggable="true" id="print" title="Print" class="box function">
                                    <i class="fas fa-shredder"></i>
                                </li>
                            </ul>
                        </aside>

                    </section>

                </div>

                <!-- Scripting Window -->
                <div id="scripting" class="tab-content overlay">
                    <!-- <pre id="editor" contenteditable="true" wrap="off" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off"><div class="line" data-line="1"></div></pre> -->
                    <form>
                        <textarea id="code" name="code"></textarea>
                    </form>
                </div>

            </section>

            <!-- Project Section -->
            <section id="resources">

                <div class="tab">
                    <h2 id="project-btn" class="active tab-link"><i class="far fa-folder-tree"></i>Project</h2>
                    <h2 id="timeline-btn" class="tab-link"><i class="fas fa-film"></i>Timeline</h2>
                    <!-- <h2 id="code-btn" class="tab-link"><i class="far fa-brackets-curly"></i>Code</h2> -->
                    <!-- <h2 id="console-btn" class="tab-link"><i class="far fa-terminal"></i>Console</h2> -->
                    <!-- <h2 id="memory-btn" class="tab-link"><i class="far fa-memory"></i>Memory</h2> -->
                    <!-- <h2><i class="fas fa-tv-music"></i>Audio Mixer</h2> -->
                    
                    <ul class="end">                        
                        <li id="upload" title="Upload">                            
                            <label for="upload-input">
                                <i class="fas fa-upload"></i>
                            </label>
                            <input type="file" id="upload-input" multiple/>
                        </li>
                    </ul>
                    
                </div>

                <div id="resources-container" class="tab-content">
                    <!-- <header>
                        <div id="tree">
                            Project > Resources > Images
                        </div>
                    </header> -->
                    <ul id="resources-list">
                        <!--<li><i class="material-icons">description</i>Script</li>
                        <li><i class="material-icons">wallpaper</i>Image</li>
                        <li><i class="material-icons">settings</i>Event</li>-->
                    </ul>
                </div>

                <div id="timeline" class="tab-content">
                    <!-- <header></header> -->
                    <aside>Not yet developed!</aside>
                </div>

            </section>

        </section>

        <!-- World Content and Properties -->
        <section id="right">

            <!-- World Window -->
            <aside id="world">

                <div class="tab">
                    <h2 id="world-btn" class="tab-link"><i class="far fa-list-ul"></i>Hierarchy</h2>
                    
                    <div id="filter">
                        <i title="Search" class="material-icons">search</i>
                        <input spellcheck="false" autocomplete="off" type="text" id="filterInput" placeholder="Search">
                    </div>
                </div>

                <ul id="world-list">
                    <!--<li class="object"><i class="material-icons">keyboard_arrow_right</i>Root node 2<ul>
                            <li>Child node 1</li>
                            <li>Child node 2</li>
                    </ul></li>-->
                </ul>

            </aside>

            <!-- Properties Window -->
            <aside id="properties">

                <!-- Properties Title and Dropdown Content -->
                <div class="tab">
                    <div>
                        <h2 id="properties-btn" class="tab-link"><i class="fas fa-sliders-h"></i>Properties</h2>
                        <!-- <h2><i class="fas fa-lightbulb-on"></i>Lighting</h2> -->

                        <i title="Add Component" class="material-icons" id="add-property">add_box</i>
                    </div>

                    <div class="dropdown-content">
                        <ul id="components">
                            <li class="component">
                                <i class="fas fa-fill-drip"></i><span class="object-text">Graphics</span>
                            </li>
                            
                            <!-- <li class="component" id="controller">
                                <i class="material-icons">games</i><span class="object-text">Controller</span>
                            </li> -->

                            <li class="component">
                                <i class="material-icons">settings_input_component</i><span class="object-text">Custom Component</span>
                            </li>

                            <!--<li id="event">
                                <i class="material-icons">gamepad</i><span class="object-text">Events</span>
                            </li>

                            <li id="update">
                                <i class="material-icons">low_priority</i><span class="object-text">Update each frame</span>
                            </li>

                            <li id="timer">
                                <i class="material-icons">timer</i><span class="object-text">Timer</span>
                            </li>-->
                        </ul>
                        <!--
                        <a href="#" id="script">
                            <i class="material-icons">description</i><span class="object-text">Script</span>
                        </a>
                        -->

                        <!--<a href="#" id="system" style="border-bottom: none;">
                            <i class="material-icons">settings</i><span class="object-text">System</span>
                        </a>-->
                    </div>
                </div>

                <!-- Properties -->
                <ul id="properties-list">

                </ul>

            </aside>

        </section>

    </main>

    <nav class="settings">
        <!-- TODO: Gérer le nombre de joueurs -->
        <ul class="items">
            <li class="item" id="folder">
                <i class="fas fa-folder-plus"></i>
                <span>Create Folder</span>
            </li>
            <li class="item" id="custom">
                <i class="material-icons">settings_input_component</i>
                <span>Custom Component</span>
            </li>
        </ul>
    </nav>

    <nav class="context-menu">
        <ul class="items">
            <!--<li class="item" id="edit">
                <i class="material-icons">edit</i><span class="object-text">Edit Object</span>
            </li>
            <li class="item" id="copy">
                <i class="material-icons">file_copy</i><span class="object-text">Copy Object</span>
            </li>
            <li class="item" id="delete">
                <i class="material-icons">delete</i><span class="object-text">Delete Object</span>
            </li>-->
            <li class="item" id="folder">
                <i class="fas fa-folder-plus"></i>
                <span>Create Folder</span>
            </li>
            <li class="item" id="custom">
                <i class="far fa-cube"></i>
                <span>Create Object</span>
            </li>
            <li class="item" id="custom">
                <i class="material-icons">settings_input_component</i>
                <span>Create Component</span>
            </li>
            <li class="item" id="script">
                <i class="material-icons">description</i>
                <span>Create Script</span>
            </li>
        </ul>
    </nav>

    <div id="save-popup">
        <p>Success</p>
        <p>Your project has been successfully saved!</p>
    </div>

    <!-- Loading -->
    <div id="loading"></div>

</body>

</html>